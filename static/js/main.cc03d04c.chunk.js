(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{55:function(t,e,n){"use strict";n.r(e);var i=n(2),a=n(3),s=n(5),c=n(4),o=n(1),r=n.n(o),l=n(20),u=n.n(l),d=n(7),h=n.n(d),p=n(10),b=n(0),m=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={inputValue:t.props.inputValue,loading:"category"},t.onFormSubmit=function(e){13===e.keyCode&&(t.setState({loading:"loading"}),t.props.onSearchSubmit(t.state.inputValue))},t.onChange=function(e){t.setState({inputValue:e.target.value})},t}return Object(a.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{className:"ui ".concat(this.state.loading," search"),style:{left:"50%",margin:"0",top:"60%",position:"absolute",transform:"translate(-50%,-50%)"},children:Object(b.jsxs)("div",{className:"ui icon input",children:[Object(b.jsx)("input",{onChange:this.onChange,onKeyDown:this.onFormSubmit,style:{borderRightWidth:"5px",borderLeftWidth:"5px",borderLeftColor:"white",borderRightColor:"white",borderLeftStyle:"solid",borderRightStyle:"solid",fontSize:"30px",marginRight:"2px",height:"8vh",width:"40vh",borderBlockWidth:"5px",textDecorationThickness:"3px",borderBlockColor:"white",color:"white",backgroundColor:"transparent"},className:"prompt",type:"text",placeholder:""}),Object(b.jsx)("i",{className:"inverted search icon"})]})})}}]),n}(r.a.Component),j=n(11),g=n.n(j),f=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state={loaded:!1},a}return Object(a.a)(n,[{key:"render",value:function(){var t=this;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"ui placeholder",style:this.state.loaded?{display:"none"}:{},children:Object(b.jsx)("div",{className:"ui image",style:{width:this.props.width,height:this.props.height}})}),Object(b.jsx)("img",{src:this.props.source,style:this.state.loaded?{}:{display:"none"},onLoad:function(){t.setState({loaded:!0}),t.props.addLoadCount()},className:"ui fluid image",alt:"profile-pic"})]})}}]),n}(r.a.Component),x=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).addLoadCount=function(){a.loadCount+=1,a.loadCount===a.state.images.length&&a.props.searchInputRef.current.setState({loading:"category"})},a.downloadFile=function(t){window.location.href=t},a.loadCount=0,a.state={images:[],view:t.view,inputValue:""},a.sIR=t.searchInputRef,a}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(t,e){return 0===e.images.length&&t.searchInputRef.current.setState({loading:"category"}),!0}},{key:"render",value:function(){var t=this;this.loadCount=0;var e=this.state.images.map((function(e){return"grid"===t.state.view?Object(b.jsx)("div",{className:"eight wide column",children:Object(b.jsx)("div",{className:"ui fluid card",children:Object(b.jsx)(f,{addLoadCount:t.addLoadCount,source:e.largeImageURL,width:e.previewWidth,height:e.previewHeight})})},e.id):Object(b.jsx)("div",{className:"item",children:Object(b.jsxs)("div",{className:"ui fluid card",children:[Object(b.jsx)(f,{addLoadCount:t.addLoadCount,source:e.largeImageURL,width:e.previewWidth,height:e.previewHeight}),Object(b.jsxs)("div",{className:"content",children:[Object(b.jsx)("div",{className:"header",children:e.user}),Object(b.jsxs)("div",{className:"meta",children:[Object(b.jsx)("i",{className:"thumbs up outline icon"})," ",e.likes," ",Object(b.jsx)("br",{}),Object(b.jsx)("i",{className:"arrow alternate circle down outline icon"})," ",e.downloads," ",Object(b.jsx)("br",{}),Object(b.jsx)("i",{className:"expand icon"})," ",e.imageWidth,"x",e.imageHeight,Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:function(){return window.location.href=e.imageURL},style:{marginTop:"3px"},className:"ui primary basic button",children:"Download"})]}),Object(b.jsx)("div",{className:"description"})]})]})},e.id)}));return this.state.images.length>0?"grid"===this.state.view?Object(b.jsx)("div",{className:"scrolling content",children:Object(b.jsx)("div",{style:{overflowY:"auto",whiteSpace:"nowrap"},className:"features ui grid noMargin",children:e})}):Object(b.jsx)("div",{className:"ui divided items",children:e}):""===this.state.inputValue?Object(b.jsx)("div",{className:"ui placeholder segment",children:Object(b.jsxs)("div",{className:"ui icon header",children:[Object(b.jsx)("i",{className:"image outline icon"}),"Start by typing in the search bar,",Object(b.jsx)("br",{}),"then press ",Object(b.jsx)("em",{children:"ENTER"}),"."]})}):Object(b.jsx)("div",{className:"ui placeholder segment",children:Object(b.jsxs)("div",{className:"ui icon header",children:[Object(b.jsx)("i",{className:"frown outline icon"}),"No image named",Object(b.jsx)("br",{}),'"',Object(b.jsx)("em",{children:this.state.inputValue}),'"',Object(b.jsx)("br",{}),"was found."]})})}}]),n}(r.a.Component),v=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).state="grid"===t.defaultButton?{gridButton:"inverted "+a.props.color,listButton:"inverted",inView:!1}:{gridButton:"inverted",listButton:"inverted "+a.props.color,inView:!1},a}return Object(a.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{style:this.state.inView?{paddingLeft:"5px",paddingRight:"5px",msTransform:"translate(-50%,-50%)",transform:"translate(-50%,-50%)",margin:"0",left:"50%",top:"90%",position:"absolute"}:{display:"none"},className:"ui fluid icon buttons",children:[Object(b.jsx)("button",{onClick:this.props.onGridClick,className:"ui ".concat(this.state.gridButton," button"),children:Object(b.jsx)("i",{className:"grid layout icon"})}),Object(b.jsx)("button",{onClick:this.props.onListClick,className:"ui ".concat(this.state.listButton," button"),children:Object(b.jsx)("i",{className:"list layout icon"})})]})}}]),n}(r.a.Component),O=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).onClickPrev=function(){a.props.changeImageList(a.state.clickedButtonIndex),a.setState({clickedButtonIndex:a.state.clickedButtonIndex-1})},a.onClickNext=function(){a.props.changeImageList(a.state.clickedButtonIndex+2),a.setState({clickedButtonIndex:a.state.clickedButtonIndex+1})},a.state={buttonTexts:t.buttonTexts,clickedButtonIndex:t.clickedButtonIndex,maxButtons:a.props.maxButtons,inView:!1},a}return Object(a.a)(n,[{key:"newFunction",value:function(){}},{key:"render",value:function(){var t=this,e=Math.max(this.state.clickedButtonIndex-Math.floor(this.state.maxButtons/2)+1,0),n=Math.min(e+this.state.maxButtons,this.state.buttonTexts.length);n-e<this.state.maxButtons&&(e=Math.max(e-(this.state.maxButtons-(n-e)),0));var i=this.state.buttonTexts.slice(e,n).map((function(e,n){return t.state.clickedButtonIndex===Number(e)-1?Object(b.jsx)("button",{style:{marginLeft:"2px",marginRight:"2px",width:"2px"},className:"ui ".concat(t.props.color," button"),children:e},n):Object(b.jsx)("button",{style:{marginLeft:"2px",marginRight:"2px",width:"2px"},onClick:function(){t.setState({clickedButtonIndex:Number(e)-1}),t.props.changeImageList(Number(e))},className:"ui secondary basic button",children:e},n)}));return Object(b.jsxs)("div",{style:this.state.inView?{marginTop:"5px"}:{display:"none"},children:[Object(b.jsx)("div",{className:"fluid ui icon buttons",style:{marginBottom:"5px"},children:i}),Object(b.jsxs)("div",{className:"fluid ui icon buttons",style:{marginBottom:"5px"},children:[Object(b.jsx)("button",{onClick:this.onClickPrev,style:this.state.clickedButtonIndex+1>1?{}:{display:"none"},className:"ui black basic button",children:Object(b.jsx)("i",{className:"left chevron icon"})}),Object(b.jsx)("button",{onClick:this.onClickNext,style:this.state.clickedButtonIndex+1!==this.state.buttonTexts.length?{}:{display:"none"},className:"ui black basic button",children:Object(b.jsx)("i",{className:"right chevron icon"})})]})]})}}]),n}(r.a.Component),y=n(9),k=n.n(y),w=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).onGridClick=function(){a.buttonComponentRef.current.setState({gridButton:"inverted ".concat(a.color," basic"),listButton:"inverted basic"}),a.imageListRef.current.setState({view:"grid"})},a.onListClick=function(){a.buttonComponentRef.current.setState({gridButton:"inverted basic",listButton:"inverted ".concat(a.color," basic")}),a.imageListRef.current.setState({view:"list"})},a.onSearchSubmit=function(){var t=Object(p.a)(h.a.mark((function t(e){var n,i,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("https://pixabay.com/api/?key=21844549-840acc6adaa37fac4e1186c8f&q=".concat(e.replace(" ","+"),"&image_type=photo"));case 2:n=t.sent,console.log(n),a.imageListRef.current.setState({images:n.data.hits,inputValue:e}),n.data.hits.length>0?(20,i=Math.floor(n.data.total/20)+1,s=Array.from(Array(i),(function(t,e){return e+1})),a.pageButtonComponentRef.current.setState({buttonTexts:s,clickedButtonIndex:0,inView:!0}),a.buttonComponentRef.current.setState({inView:!0})):(a.pageButtonComponentRef.current.setState({inView:!1}),a.buttonComponentRef.current.setState({inView:!1}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.changeImageList=function(){var t=Object(p.a)(h.a.mark((function t(e){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.searchInputRef.current.setState({loading:"loading"}),t.next=3,g.a.get("https://pixabay.com/api/?key=21844549-840acc6adaa37fac4e1186c8f&q=".concat(a.searchInputRef.current.state.inputValue.replace(" ","+"),"&image_type=photo&page=").concat(e));case 3:n=t.sent,a.imageListRef.current.setState({images:n.data.hits});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a.state={images:[],inputValue:"",view:"grid",listButton:"secondary",gridButton:"primary"},a.searchInputRef=r.a.createRef(),a.imageListRef=r.a.createRef(),a.buttonComponentRef=r.a.createRef(),a.pageButtonComponentRef=r.a.createRef(),a.vantaRef=r.a.createRef(),a.color="orange",a}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){this.vantaEffect&&this.vantaEffect.destroy()}},{key:"componentDidMount",value:function(){this.vantaEffect=k()({el:this.vantaRef.current,birdSize:"1.5"})}},{key:"getnoResults",value:function(){return this.noResults}},{key:"render",value:function(){return Object(b.jsxs)("div",{style:{position:"relative"},children:[Object(b.jsxs)("div",{style:{height:"40vh",position:"relative"},ref:this.vantaRef,children:[Object(b.jsx)("div",{className:"ui huge header",style:{textAlign:"center",paddingLeft:"auto",paddingRight:"auto",paddingTop:"40px",fontSize:"40px",color:"white"},children:"Image Search"}),Object(b.jsx)(m,{ref:this.searchInputRef,onSearchSubmit:this.onSearchSubmit,inputValue:this.state.inputValue,loading:"category"}),Object(b.jsx)(v,{color:this.color,getnoResults:this.noResults,onGridClick:this.onGridClick,onListClick:this.onListClick,ref:this.buttonComponentRef,defaultButton:"grid"})]}),Object(b.jsxs)("div",{className:"ui container",style:{marginTop:"30px"},children:[Object(b.jsx)(x,{ref:this.imageListRef,searchInputRef:this.searchInputRef,images:this.state.images,inputValue:this.state.inputValue,view:this.state.view}),Object(b.jsx)(O,{color:this.color,getnoResults:this.noResults,maxButtons:10,ref:this.pageButtonComponentRef,changeImageList:this.changeImageList,buttonTexts:[1,2,3],clickedButtonIndex:0}),Object(b.jsxs)("h6",{className:"ui bottom attached header",children:[Object(b.jsx)("a",{href:"https://pixabay.com/",style:{margin:"0px 15px 5px 0px",fontSize:"12px",lineHeight:1e-4,color:"#555",display:"block",float:"left"},children:Object(b.jsx)("i",{style:{display:"block",width:"68px",overflow:"hidden"},children:Object(b.jsx)("img",{src:"https://pixabay.com/static/img/logo.svg",style:{width:"60px",marginBottom:"10px"},alt:"profile-pic"})})}),"Images fetched from Pixabay API"]})]})]})}}]),n}(r.a.Component),R=function(t){Object(s.a)(n,t);var e=Object(c.a)(n);function n(t){var a;return Object(i.a)(this,n),(a=e.call(this,t)).vantaRef=r.a.createRef(),a}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return Object(b.jsx)("div",{style:{height:"100vh",width:"100%"},ref:this.vantaRef,children:Object(b.jsx)(w,{})})}}]),n}(r.a.Component);u.a.render(Object(b.jsx)(R,{}),document.querySelector("#root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.cc03d04c.chunk.js.map