(this["webpackJsonpimage-search"]=this["webpackJsonpimage-search"]||[]).push([[0],{44:function(e,t,a){"use strict";a.r(t);var i=a(1),s=a.n(i),n=a(17),c=a.n(n),r=a(8),o=a.n(r),u=a(18),l=a(3),d=a(4),h=a(6),j=a(5),m=a(0),p=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(l.a)(this,a);for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).state={inputValue:e.props.inputValue,loading:"category"},e.onFormSubmit=function(t){t.preventDefault(),e.setState({loading:"loading"}),e.props.onSearchSubmit(e.state.inputValue)},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsx)("div",{className:"ui segment",children:Object(m.jsx)("form",{className:"ui form",onSubmit:this.onFormSubmit,children:Object(m.jsx)("div",{className:"field",children:Object(m.jsx)("div",{className:"ui fluid ".concat(this.state.loading," search"),children:Object(m.jsxs)("div",{className:"ui massive icon input",children:[Object(m.jsx)("input",{className:"prompt",type:"text",placeholder:this.state.inputValue,value:this.state.inputValue,onChange:function(t){return e.setState({inputValue:t.target.value})}}),Object(m.jsx)("i",{className:"search icon"})]})})})})})}}]),a}(s.a.Component),b=a(19),g=a.n(b),O=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state={loaded:!1},i}return Object(d.a)(a,[{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"ui placeholder",style:this.state.loaded?{display:"none"}:{},children:Object(m.jsx)("div",{className:"ui image",style:{width:this.props.width,height:this.props.height}})}),Object(m.jsx)("img",{src:this.props.source,style:this.state.loaded?{}:{display:"none"},onLoad:function(){e.setState({loaded:!0}),e.props.addLoadCount()},className:"ui fluid image",alt:"profile-pic"})]})}}]),a}(s.a.Component),f=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).addLoadCount=function(){i.loadCount+=1,i.loadCount===i.state.images.length&&i.props.searchInputRef.current.setState({loading:"category"})},i.loadCount=0,i.state={images:[],view:e.view,inputValue:""},i.sIR=e.searchInputRef,i}return Object(d.a)(a,[{key:"shouldComponentUpdate",value:function(e,t){return 0===t.images.length&&e.searchInputRef.current.setState({loading:"category"}),!0}},{key:"render",value:function(){var e=this;this.loadCount=0;var t=this.state.images.map((function(t){return"grid"===e.state.view?Object(m.jsx)("div",{className:"eight wide column",children:Object(m.jsx)("div",{className:"ui fluid card",children:Object(m.jsx)(O,{addLoadCount:e.addLoadCount,source:t.largeImageURL,width:t.previewWidth,height:t.previewHeight})})},t.id):Object(m.jsx)("div",{className:"item",children:Object(m.jsxs)("div",{className:"ui fluid card",children:[Object(m.jsx)(O,{addLoadCount:e.addLoadCount,source:t.largeImageURL,width:t.previewWidth,height:t.previewHeight}),Object(m.jsxs)("div",{className:"content",children:[Object(m.jsx)("div",{className:"header",children:t.user}),Object(m.jsxs)("div",{className:"meta",children:[Object(m.jsx)("i",{className:"thumbs up outline icon"})," ",t.likes," ",Object(m.jsx)("br",{}),Object(m.jsx)("i",{className:"arrow alternate circle down outline icon"})," ",t.downloads," ",Object(m.jsx)("br",{})]}),Object(m.jsx)("div",{className:"description"})]})]})},t.id)}));return this.state.images.length>0?"grid"===this.state.view?Object(m.jsx)("div",{className:"ui grid",children:t}):Object(m.jsx)("div",{className:"ui divided items",children:t}):""===this.state.inputValue?Object(m.jsx)("div",{className:"ui placeholder segment",children:Object(m.jsxs)("div",{className:"ui icon header",children:[Object(m.jsx)("i",{className:"image outline icon"}),"Start by typing in the search bar,",Object(m.jsx)("br",{}),"then press ",Object(m.jsx)("em",{children:"ENTER"}),"."]})}):Object(m.jsx)("div",{className:"ui placeholder segment",children:Object(m.jsxs)("div",{className:"ui icon header",children:[Object(m.jsx)("i",{className:"frown outline icon"}),"No image named",Object(m.jsx)("br",{}),'"',Object(m.jsx)("em",{children:this.state.inputValue}),'"',Object(m.jsx)("br",{}),"was found."]})})}}]),a}(s.a.Component),v=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).state="grid"===e.defaultButton?{gridButton:"primary",listButton:"secondary"}:{gridButton:"secondary",listButton:"primary"},i}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{style:{marginBottom:"13px",zIndex:1},className:"ui fluid icon buttons",children:[Object(m.jsx)("button",{onClick:this.props.onGridClick,className:"ui ".concat(this.state.gridButton," basic button"),children:Object(m.jsx)("i",{className:"grid layout icon"})}),Object(m.jsx)("button",{onClick:this.props.onListClick,className:"ui ".concat(this.state.listButton," basic button"),children:Object(m.jsx)("i",{className:"list layout icon"})})]})}}]),a}(s.a.Component),x=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var i;return Object(l.a)(this,a),(i=t.call(this,e)).onGridClick=function(){i.buttonComponentRef.current.setState({gridButton:"primary",listButton:"secondary"}),i.imageListRef.current.setState({view:"grid"})},i.onListClick=function(){i.buttonComponentRef.current.setState({gridButton:"secondary",listButton:"primary"}),i.imageListRef.current.setState({view:"list"})},i.onSearchSubmit=function(){var e=Object(u.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://pixabay.com/api/?key=21844549-840acc6adaa37fac4e1186c8f&q=".concat(t.replace(" ","+"),"&image_type=photo"));case 2:a=e.sent,i.imageListRef.current.setState({images:a.data.hits,inputValue:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i.state={images:[],inputValue:"",view:"grid",listButton:"secondary",gridButton:"primary"},i.searchInputRef=s.a.createRef(),i.imageListRef=s.a.createRef(),i.buttonComponentRef=s.a.createRef(),i}return Object(d.a)(a,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"ui container",style:{marginTop:"30px"},children:[Object(m.jsx)("div",{className:"ui huge header",style:{marginLeft:"auto",marginRight:"auto"},children:"Image Search"}),Object(m.jsx)(p,{ref:this.searchInputRef,onSearchSubmit:this.onSearchSubmit,inputValue:this.state.inputValue,loading:"category"}),Object(m.jsx)(v,{onGridClick:this.onGridClick,onListClick:this.onListClick,ref:this.buttonComponentRef,defaultButton:"grid"}),Object(m.jsx)(f,{ref:this.imageListRef,searchInputRef:this.searchInputRef,images:this.state.images,inputValue:this.state.inputValue,view:this.state.view})]})}}]),a}(s.a.Component);c.a.render(Object(m.jsx)(x,{}),document.querySelector("#root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.3351cac9.chunk.js.map